<%# Main container for feedback messages %>
<div class="container mx-auto px-4 py-8">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold">Mensajes de Contacto</h1>
    
    <%# Per page selector %>
    <div class="flex items-center gap">
      <span class="">Mostrar:</span>
      <div class="flex gap">
        <% [5, 10, 20, 50].each do |per_page| %>
          <%= link_to per_page, 
              admin_feedback_messages_path(per_page: per_page, page: 1), 
              class: "btn btn--sm #{@per_page == per_page ? 'btn--positive' : 'btn--plain'}" %>
        <% end %>
      </div>
    </div>
  </div>

  <%# Flash messages container %>
  <div id="flash-messages">
    <%= render "shared/flash" %>
  </div>

  <%# Render the table partial %>
  <%= render "table", messages: @messages %>

  <%# Pagination %>
  <div class="mt-4 flex justify-center">
    <%= paginate @messages %>
  </div>
</div>

<%# Estilos específicos para la tabla %>
<style>
  .table-container {
    margin: var(--size-4) 0;
    overflow-x: auto;
    border-radius: var(--rounded-lg);
    box-shadow: var(--shadow-md);
  }

  .table {
    inline-size: 100%;
    border-collapse: collapse;
    background-color: var(--color-surface);
  }

  .table th,
  .table td {
    padding: var(--size-3);
    text-align: start;
    border-block-end: 1px solid var(--color-border);
  }

  .table th {
    background-color: var(--color-surface-alt);
    font-weight: var(--font-semibold);
    color: var(--color-text-alt);
  }

  .table tbody tr:hover {
    background-color: var(--color-surface-hover);
  }

  .btn--sm {
    padding: var(--size-2) var(--size-3);
    font-size: var(--text-sm);
  }

  /* Estilos para la paginación */
  .pagination {
    @apply flex items-center gap-2;
  }

  .pagination .page {
    @apply btn btn--sm btn--secondary;
  }

  .pagination .current {
    @apply btn btn--sm btn--primary;
  }

  .pagination .disabled {
    @apply btn btn--sm btn--secondary opacity-50 cursor-not-allowed;
  }
</style>
